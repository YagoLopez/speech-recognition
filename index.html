<!--todo: primera pagina de presentacion-->
<!--todo: segunda pagina demostracion de comandos-->
<!--todo: tercera pagina introduccion de texto en controles de texto-->
<!--todo: recomendaciones: 1) distancia menor a 10 cms de microfono 2) Entorno no ruidoso 3) tono claro y normal-->
<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="A simple content slider with depth-like zoom functionality" />
	<meta name="keywords" content="reconocimiento de voz, speech recognition, voice recognition, voice control, demo" />
	<meta name="author" content="Yago López Salvador" />
	<!-- Feather Icons -->
	<link rel="stylesheet" type="text/css" href="fonts/feather/style.css">
	<!-- General demo styles & header -->
	<link rel="stylesheet" type="text/css" href="css/demo.css" />
    <link rel="stylesheet" type="text/css" href="bower_components/animate.css/animate.css"/>
    <link rel="stylesheet" type="text/css" href="bower_components/ionicons/css/ionicons.css"/>
	<!-- Component styles -->
	<link rel="stylesheet" type="text/css" href="css/component.css" />
    <script src="js/modernizr.custom.js"></script>
    <script src="bower_components/annyang/annyang.js"></script>
    <!--<script src="node_modules/speechkitt/src/speechkitt.js"></script>-->
    <link rel="shortcut icon" href="favicon.ico">
    <title>Reconocimiento de Voz - Demostración</title>
    <script>
/*        if (annyang) {
            var commands = {
                'hola': function() { alert('Hello world!'); },
                'siguiente': function () {
                    console.log('dos.html');
                    window.location.href = 'dos.html';
                },
                'fin': function () {
                    console.log('finalizando sesion de voz mediante comando de voz');
                    annyang.abort();
                }
            };

            // Add our commands to annyang
            annyang.addCommands(commands);
            annyang.setLanguage('es-ES');
            annyang.debug(false);

            annyang.addCallback('start', function () {
                console.log('inicio')
            });
            annyang.addCallback('error', function () {
                console.warn('error reconocimiento de voz')
            });
            annyang.addCallback('errorNetwork', function () {
                console.warn('error network')
            });
            annyang.addCallback('errorPermissionBlocked', function () {
                console.warn('error permission blocked')
            });
            annyang.addCallback('errorPermissionDenied', function () {
                console.warn('error permission denied')
            });
            annyang.addCallback('end', function () {
                console.log('fin sesión reconocimiento de voz')
            });
            annyang.addCallback('result', function (res) {
                console.info('Reconocimiento de voz positivo. Resultado: ')
            });
            annyang.addCallback('resultMatch', function (userSaid, commandText, phrases) {
                console.log('Texto reconocido: ', userSaid); // sample output: 'hello'
                console.log('Nombre de funcion ejecutada: ', commandText); // sample output: 'hello (there)'
                console.log('Resultados posibles por orden de probabilidad: ', phrases); // sample output: ['hello', 'halo', 'yellow', 'polo', 'hello kitty']
            });
            annyang.addCallback('resultNoMatch', function (res) {
                console.warn('No se han reconocido comandos para:', res)
            });

            // Start listening.
            annyang.start({autoRestart: false, continuous: false});

//            var toggleRecognition = function () {
//                if( annyang.isListening() ){
//                    annyang.abort()
//                } else { annyang.start() }
//            }
        }*/
    </script>

</head>
<body ng-app="app-reconocimiento-voz">

	<!-- Main container -->
	<div class="container">

        <section class="slider">

            <div class="slide slide--current" data-content="content-1">
                <div class="slide__mover">
                    <div class="zoomer flex-center">
                        <div class="preview">
                            <img src="images/88.png"/>
                            <div class="zoomer__area zoomer__area--size-3"></div>
                        </div>
                    </div>
                </div>
                <h2 class="slide__title">
                    <span>Reconocimiento de voz</span>
                    Instrucciones
                </h2>
            </div>


            <div class="slide" data-content="content-2">
                <div class="slide__mover">
                    <div class="zoomer flex-center">
                        <div class="preview">
                            <img src="images/66.png" alt="iPad Mini app preview" />
                            <div class="zoomer__area zoomer__area--size-4"></div>
                        </div>
                    </div>
                </div>
                <h2 class="slide__title"><span></span>Ejecución de comandos</h2>
            </div>


            <div class="slide" data-content="content-3">
                <div class="slide__mover">
                    <div class="zoomer flex-center">
                        <div class="preview">
                            <img src="images/22.png" alt="MacBook app preview" />
                            <div class="zoomer__area zoomer__area--size-3"></div>
                        </div>
                    </div>
                </div>
                <h2 class="slide__title"><span></span>Dictado de texto</h2>
            </div>


            <div class="slide" data-content="content-4">
                <div class="slide__mover">
                    <div class="zoomer flex-center">
                        <div class="preview">
                            <img src="images/12.jpg" alt="iMac app preview" />
                            <div class="zoomer__area zoomer__area--size-5"></div>
                        </div>
                    </div>
                </div>
                <h2 class="slide__title"><span></span>Síntesis de voz</h2>
            </div>


            <div class="slide" data-content="content-5">
                <div class="slide__mover">
                    <div class="zoomer flex-center">
                        <div class="preview rounded">
                            <img src="images/apple-watch-content-preview.png" alt="Apple Watch app preview" />
                            <div class="zoomer__area zoomer__area--size-1"></div>
                        </div>
                    </div>
                </div>
                <h2 class="slide__title"><span>The Fabulous</span> Apple Watch</h2>
            </div>


            <nav class="slider__nav">
                <button class="button button--nav-prev">
                    <i class="icon icon--arrow-left"></i>
                    <span class="text-hidden">Anterior</span>
                </button>
                <button class="button button--zoom">
                    <i class="icon icon--zoom"></i>
                    <div style="font-size:12px;">Detalles</div>
                </button>
                <button class="button button--nav-next">
                    <i class="icon icon--arrow-right"></i>
                    <span class="text-hidden">Siguiente</span>
                </button>
            </nav>


        </section>

        <section class="content">

            <div class="content__item" id="content-1">
                <div class="content__item-inner">
                    <h3 style="color:#5C5EDC">Reconocimiento de voz</h3>
                    <p style="color:lightblue">Demostración de reconocimiento de voz para navegadores y Android</p>
                    <p>Aunque la tecnología "HTML5 Web Speech API" es un estandar W3C, debido a su reciente aparición
                        sólo algunos navegadores como Chrome la incorporan. Usando dicha tecnología esta demostración
                        permite ejecutar comandos por voz, introducir texto mediante el habla, y
                        leer texto con voz sintética</p>
                    <p>Los navegadores de Microsoft (IE, Edge) todavía no implementan esta tecnología por lo que no
                        son compatibles con esta demostración</p>
                    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API#Browser_compatibility" target="_blank">
                        Consultar compatibilidad entre navegadores &rarr;
                    </a></p>
                    <p>La demostración consiste de tres secciones:</p>
                        <ol style="font-size:14px">
                            <li class="pad-botm5">Ejecución de comandos por voz</li>
                            <li class="pad-botm5">Introducción de texto hablado</li>
                            <li class="pad-botm5">Síntesis de voz</li>
                        </ol>
                    <h3>Instrucciones</h3>
                        <ul style="font-size:14px;">
                            <li class="pad-botm5">Siempre que se solicite, conceder permiso a la aplicación para que acceda al hardware del micrófono</li>
                            <li class="pad-botm5">Navegar por las distintas pantallas hasta la sección correspondiente</li>
                            <li class="pad-botm5">Durante el reconocimiento de voz, hablar a pocos centímetros del micrófono</li>
                            <li class="pad-botm5">Situarse en un entorno silencioso</li>
                            <li class="pad-botm5">Utilizar un tono claro y normal</li>
                            <li class="pad-botm5">Navegador compatible requerido</li>
                            <li class="pad-botm5">En caso de usar móvil sólo se garantiza el funcionamiento en
                                Android por las cuestiones de compatibilidad antes mencionadas
                            </li>
                            <li class="pad-botm5">El reconocimiento de voz se realiza mediante un servicio web remoto por lo que se necesita
                                una conexión de red. Dependiendo del ancho de banda disponible a veces los resultados pueden tardar algunos
                                segundos en ser obtenidos</li>
                        </ul>
                </div>
            </div>

            <!-- Control voz =============================================================================== -->
            <div class="content__item" id="content-2" style="width:100%" ng-controller="ControladorReconocimientoVoz">
                <div class="content__item-inner" style="width:100%">
                    <div style="text-align:center;font-size:0.8em">
                        <h3 style="color:#5C5EDC" class="pad-botm5">Ejecución de comandos por voz</h3>
                        <div style="text-align:left">
                        <p><b style="color:lightskyblue">
                            &bull; Pulsar el micrófono:</b> activar/desactivar el reconocimiento de voz</p>
                        <p><b style="color:lightskyblue">
                            &bull; "Siguiente":</b> navega a la página siguiente</p>
                        <p><b style="color:lightskyblue">
                            &bull; "Detener Voz":</b> detiene el reconocimiento de voz</p>
                        </div>
                        <a href="#" ng-click="toggle()" style="display:block">
                            <i ng-if="annyang.isListening()" class="ion-android-microphone animated fadeIn infinite"
                               style="font-size:100px;color:lawngreen;padding:50px;"></i>
                            <i ng-if="!annyang.isListening()" class="ion-android-microphone-off"
                               style="font-size:100px;color:red;padding:50px"></i>
                        </a>
                        <div style="font-size:small" ng-bind-html="statusMessage | FiltroHtml | uppercase"></div>
                    </div>
                </div>
            </div>
            <!-- Fin control voz =========================================================================== -->

            <div class="content__item" id="content-3" ng-controller="speechCtrl" style="width:100%;">
                <div class="content__item-inner" style="min-width:100%">
                    <h2>The MacBook</h2>
                    <h3>It's the future of the notebook</h3>
                    <form ng-submit="submitEntry()">
                        <select ng-model="optionSelected" ng-options="voice.name for voice in voices">
                            <option value="">Choose Accent</option>
                        </select>
                        <div class="controls">
                            <label>Pitch: {{ pitch }}</label>
                            <input type="range" ng-model="pitch" min="0" max="2" step="1" />

                            <label>Rate: {{ rate }}</label>
                            <input type="range" ng-model="rate" min="0.1" max="10" step="0.1" />

                            <label>Volume: {{ volume }}</label>
                            <input type="range" ng-model="volume" min="0" max="1" step="1" />
                        </div>
                        <p style="font-size:0.9em;text-align:center">
                            Dependiendo del los idiomas disponibles y el dispositvo, el tipo de voz y los demás controles
                            pueden no tener efecto</p>
                        <textarea ng-model="msg" placeholder="Introducir texto..."></textarea>
                        <button class="btn">Say What?</button>
                    </form>
                    <!--<p><a href="https://www.apple.com/macbook/design/">Learn more about the design &xrarr;</a></p>-->
                </div>
            </div>

            <div class="content__item" id="content-4">
                <img class="content__item-img rounded-right" src="images/imac-content.jpg" alt="iMac Content" />
                <div class="content__item-inner">
                    <h2>The iMac</h2>
                    <h3>Engineered to the very last detail</h3>
                    <p>Every new Mac comes with Photos, iMovie, GarageBand, Pages, Numbers, and Keynote. So you can be creative with your photos, videos, music, documents, spreadsheets, and presentations right from the start. You also get great apps for email, surfing the web, sending texts, and making FaceTime calls — there’s even an app for finding new apps.</p>
                    <p><a href="https://www.apple.com/imac/built-in-apps/">Learn more about the iMac's features &xrarr;</a></p>
                </div>
            </div>

            <div class="content__item" id="content-5">
                <img class="content__item-img rounded-right" src="images/apple-watch-content.png" alt="Apple Watch Content" />
                <div class="content__item-inner">
                    <h2>The Apple Watch</h2>
                    <h3>Entirely new ways to stay in touch</h3>
                    <p>Apple Watch makes all the ways you're used to communicating more convenient. And because it sits right on your wrist, it can add a physical dimension to alerts and notifications. For example, you’ll feel a gentle tap with each incoming message. Apple Watch also lets you connect with your favorite people in fun, spontaneous ways — like sending a tap, a sketch, or even your heartbeat. </p>
                    <p><a href="https://www.apple.com/watch/new-ways-to-connect/">Learn more about new ways to connect &xrarr;</a></p>
                </div>
            </div>

            <button class="button button--close">
                <i class="icon icon--circle-cross"></i><span class="text-hidden">Close content</span>
            </button>

        </section>
<!-- Control voz =================================================================================================== -->
<!--
        <div id="control-voz" style="text-align:center;">
            <a href="#" ng-click="toggle()">
                <i ng-if="annyang.isListening()" class="ion-android-microphone animated fadeIn infinite"
                   style="font-size:100px;color:lawngreen;vertical-align: middle;padding:5px"></i>
                <i ng-if="!annyang.isListening()" class="ion-android-microphone-off"
                   style="font-size:100px;color:red;vertical-align: middle;padding:5px"></i>
            </a>
            <div ng-bind-html="statusMessage | FiltroHtml | uppercase"></div>
        </div>
-->
<!-- Fin control voz =============================================================================================== -->

	</div>

    <script src="js/classie.js"></script>
	<script src="js/dynamics.min.js"></script>
	<script src="js/main.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="js/angular-app.js"></script></body>
</html>